<h1><%= @starship["name"] %></h1>
<p>From the amazing SWAPI</p>

<table border="1">
  <tr>
    <th>Model</th>
    <th>Manufacturer</th>
    <th>Cost in credits</th>
    <th>Length</th>
    <th>Max atmosphering speed</th>
    <th>Crew</th>
    <th>Passengers</th>
    <th>Cargo capacity</th>
    <th>Consumables</th>
    <th>Hyperdrive rating</th>
    <th>MGLT</th>
    <th>Starship class</th>
  </tr>
  <tr>
    <td><%= @starship["model"] %></td>
    <td><%= @starship["manufacturer"] %></td>
    <td><%= @starship["cost_in_credits"] %></td>
    <td><%= @starship["length"] %></td>
    <td><%= @starship["max_atmosphering_speed"] %></td>
    <td><%= @starship["crew"] %></td>
    <td><%= @starship["passengers"] %></td>
    <td><%= @starship["cargo_capacity"] %></td>
    <td><%= @starship["consumables"] %></td>
    <td><%= @starship["hyperdrive_rating"] %></td>
    <td><%= @starship["MGLT"] %></td>
    <td><%= @starship["starship_class"] %></td>
  </tr>
</table>

<h3>Films</h3>
<% @starship["films"].each do |f| %>
  <% response = RestClient.get(f) %>
  <p><%= link_to JSON.parse(response)["title"], movie_path(f[/\d+/]) %></p>
<% end %>

<h3>Pilots</h3>
<% @starship["pilots"].each do |c| %>
  <% response = RestClient.get(c) %>
  <p><%= link_to JSON.parse(response)["name"], character_path(c[/\d+/]) %></p>
<% end %>
